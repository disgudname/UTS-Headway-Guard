function stopCameraPlayBack(){var d=new Date,frame;try{console.log("Streaming stopped at:  "+new Date(d.getTime()))}catch(e){console.log(e)}try{clearTimeout(cameraPlayback)}catch(err){}try{$f("*").each(function(){try{this.stop()}catch(err){}try{this.unload()}catch(err){}})}catch(err){}frame=$("#trafficCamPlayer");frame.length>0&&$(frame[0].contentWindow.document).find("object").length>0&&$(frame[0].contentWindow.document).find("object").remove();frame.remove()}function timeoutCameraPlayBack(camURL){stopCameraPlayBack();try{$("#streamingCamHolder").is(":visible")&&(camURL.length>0?$("#streamingCamHolder").html('<p class="msgAlert" style="font-size:1.3em; margin-top:0px !important;"><br />Are you still watching? &nbsp; <a href="#" onclick="LoadStreamingCam(\''+camURL+'\');return false;">Yes<\/a> &nbsp; <a href="#" onclick="infoWindow_close();return false;">No<\/a><br /><br /><a href="#" onclick="saveCamStreamTimeout(3600);LoadStreamingCam(\''+camURL+"');return false;\"><span"+(camStreamTimeout==3600?' style="font-size:1.1em;"':"")+'>Continue watching for 1 hour<\/span><\/a><br /><br /><a href="#" onclick="saveCamStreamTimeout(7200);LoadStreamingCam(\''+camURL+"');return false;\"><span"+(camStreamTimeout==7200?' style="font-size:1.1em;"':"")+'>Continue watching for 2 hours<\/span><\/a><br /><br /><a href="#" onclick="saveCamStreamTimeout(14400);LoadStreamingCam(\''+camURL+"');return false;\"><span"+(camStreamTimeout==14400?' style="font-size:1.1em;"':"")+'>Continue watching for 4 hours<\/span><\/a><br /><br /><a href="#" onclick="saveCamStreamTimeout(28800);LoadStreamingCam(\''+camURL+"');return false;\"><span"+(camStreamTimeout==28800?' style="font-size:1.1em;"':"")+'>Continue watching for 8 hours<\/span><\/a><br /><br /><a href="#" onclick="saveCamStreamTimeout(-1);LoadStreamingCam(\''+camURL+"');return false;\"><span"+(camStreamTimeout==-1?' style="font-size:1.1em;"':"")+">Continue watching forever<\/span><\/a><\/p > "):$("#streamingCamHolder").html("<p class='msgAlert'><br /><br />The video playback was stopped after "+camera_stream_timeout_seconds+" seconds to conserve bandwidth.  Please close this popup and load the camera again.<\/p>"))}catch(err){}}function LoadStreamingCam(camURL){var d,local_camera_stream_timeout_seconds;try{stopCameraPlayBack()}catch(err){}try{clearInterval(myCamTimer)}catch(err){}try{clearTimeout(myCamTimeout)}catch(err){}$("#staticCamHolder").hide();d=new Date;$("#streamingCamHolder").html('<iframe id="trafficCamPlayer" src="/flowplayeri.aspx?CAMID='+camURL+"&nocache="+d.getTime()+'" width="100%" height="100%" scrolling="no" frameborder="0"><\/iframe>');$("#streamingCamHolder").show();$("#streamCamLink").hide();try{$("#refreshCamLink").hide()}catch(err){}local_camera_stream_timeout_seconds=camera_stream_timeout_seconds;try{if(camStreamTimeout==0||isNaN(camStreamTimeout))try{camStreamTimeout=getCamStreamTimeout()}catch(e){console.log(e)}(camStreamTimeout==0||isNaN(camStreamTimeout))&&(camStreamTimeout=camera_stream_timeout_seconds);local_camera_stream_timeout_seconds=camStreamTimeout}catch(err){local_camera_stream_timeout_seconds=camera_stream_timeout_seconds}local_camera_stream_timeout_seconds==0&&(local_camera_stream_timeout_seconds=camera_stream_timeout_seconds);try{clearTimeout(cameraPlayback)}catch(err){}try{if(local_camera_stream_timeout_seconds>0){cameraPlayback=setTimeout(function(){timeoutCameraPlayBack(camURL)},local_camera_stream_timeout_seconds*1e3+1e3);try{console.log("Streaming started at:  "+new Date(d.getTime()))}catch(e){console.log(e)}try{console.log("Streaming will end at: "+new Date(d.getTime()+1e3*local_camera_stream_timeout_seconds))}catch(e){console.log(e)}}else console.log("Streaming will never end")}catch(err){}}function LoadCam(camOrdinal){LoadStreamingCam(camOrdinal)}function LoadStaticCam(camOrdinal){try{stopCameraPlayBack()}catch(err){}try{$("#streamingCamHolder").hide();$("#streamCamLink").show()}catch(err){}try{$("#staticCamHolder").show();$("#staticCamLink").hide();$("#refreshCamLink").show()}catch(err){}try{startCamRefresh(camOrdinal)}catch(err){}}var cameraPlayback,camera_stream_timeout_seconds=1800;
//# sourceMappingURL=flowplayi.min.js.map